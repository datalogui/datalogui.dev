(window.webpackJsonp=window.webpackJsonp||[]).push([[35],{171:function(e,n,a){"use strict";a.r(n),a.d(n,"frontMatter",(function(){return r})),a.d(n,"metadata",(function(){return s})),a.d(n,"rightToc",(function(){return c})),a.d(n,"default",(function(){return l}));var t=a(1),o=a(9),i=(a(0),a(177)),r=(a(181),{id:"queries-with-negation",title:"Queries with negation"}),s={id:"examples/queries-with-negation",title:"Queries with negation",description:"import '../../src/globalDatalog'",source:"@site/docs/examples/queries-with-negation.md",permalink:"/docs/examples/queries-with-negation",editUrl:"https://github.com/facebook/docusaurus/edit/master/website/docs/examples/queries-with-negation.md",sidebar:"docs",previous:{title:"Querying queries",permalink:"/docs/examples/querying-queries"},next:{title:"Recursive Queries",permalink:"/docs/examples/recursive-queries"}},c=[],d={rightToc:c};function l(e){var n=e.components,a=Object(o.a)(e,["components"]);return Object(i.b)("wrapper",Object(t.a)({},d,a,{components:n,mdxType:"MDXLayout"}),Object(i.b)("p",null,"Sometimes it's useful to say find results for which there is no matching data\nin a table. That's where the ",Object(i.b)("inlineCode",{parentName:"p"},".not")," method becomes useful."),Object(i.b)("p",null,"For example, if I wanted to find the actors who were in the movie ",Object(i.b)("em",{parentName:"p"},"The Grand\nBudapest Hotel")," but not in the movie ",Object(i.b)("em",{parentName:"p"},"Moonrise Kingdom")," the query would be:"),Object(i.b)("div",{className:"admonition admonition-caution alert alert--warning"},Object(i.b)("div",Object(t.a)({parentName:"div"},{className:"admonition-heading"}),Object(i.b)("h5",{parentName:"div"},Object(i.b)("span",Object(t.a)({parentName:"h5"},{className:"admonition-icon"}),Object(i.b)("svg",Object(t.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"}),Object(i.b)("path",Object(t.a)({parentName:"svg"},{fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"})))),"caution")),Object(i.b)("div",Object(t.a)({parentName:"div"},{className:"admonition-content"}),Object(i.b)("p",{parentName:"div"},"Negation in queries can be tricky and error prone. Use with caution."))),Object(i.b)("pre",null,Object(i.b)("code",Object(t.a)({parentName:"pre"},{className:"language-ts"}),'// Create the InMovie Table with a schema\nconst InMovie = datalog.newTable({\n  actor: datalog.StringType,\n  movie: datalog.StringType,\n});\n\n\n// Load some data into the table\n[ "Ralph Fiennes",\n"F. Murray Abraham",\n"Mathieu Amalric",\n"Adrien Brody",\n"Willem Dafoe",\n"Jeff Goldblum",\n"Harvey Keitel",\n"Jude Law",\n"Bill Murray",\n"Edward Norton",\n"Saoirse Ronan",\n"Jason Schwartzman",\n"L\xe9a Seydoux",\n"Tilda Swinton",\n"Tom Wilkinson",\n"Owen Wilson",\n"Tony Revolori",\n"Larry Pine",\n].map(actor => ({actor, movie: "The Grand Budapest Hotel"})).forEach(datum => {\n  InMovie.assert(datum)\n});\n\n[\n"Bruce Willis",\n"Edward Norton",\n"Bill Murray",\n"Frances McDormand",\n"Tilda Swinton",\n"Jared Gilman",\n"Kara Hayward",\n"Jason Schwartzman",\n"Bob Balaban",\n"Lucas Hedges",\n"Charlie Kilgore",\n"Andreas Sheikh",\n"Chandler Frantz",\n"Rob H. Campbell",\n"L.J. Foley",\n].map(actor => ({actor, movie: "Moonrise Kingdom"})).forEach(datum => {\n  InMovie.assert(datum)\n});\n\n\n// Our query: find actors who were in _The Grand Budapest Hotel_ but not\n// _Moonrise Kingdom_\nconst Query = datalog.query(({actor}) => {\n  InMovie({actor, movie: "The Grand Budapest Hotel"})\n  InMovie.not({actor, movie: "Moonrise Kingdom"})\n})\n\nQuery.view().readAllData()\n// => \n/*\n[{"actor":"Adrien Brody"},{"actor":"F. Murray Abraham"},{"actor":"Harvey Keitel"},{"actor":"Jeff Goldblum"}, ...]\n*/\n')))}l.isMDXComponent=!0},181:function(e,n,a){"use strict";(function(e){var n=a(183),t=a(186);try{"undefined"!=typeof window&&(window.datalog=n,window.useQuery=t.useQuery),void 0!==e&&(e.datalog=n,e.useQuery=t.useQuery)}catch(o){}console.log("Datalog is available in the console:",n)}).call(this,a(75))}}]);